[Rainmeter]
Update=1000
AccurateText=1
DynamicWindowSize=1

[Metadata]
Name=DSA Tracker
Author=Varun
Information=Duolingo-inspired Stats Tracker
Version=2.3
License=Creative Commons Attribution-Non-Commercial-Share Alike 3.0

[Variables]
; Default values before script runs
TotalSolved=...
Streak=0
LC_Count=0
GFG_Count=0
FireImg=fireoff.png

; --- Design Variables ---
; Width=180, Height=235
Width=180
Height=235
; Increased CornerRadius for smoother look (Perfect Ratio: ~15% of width)
CornerRadius=26
Center=90
; Minimal but visible border
BorderWidth=3

; --- Colors ---
ColorBg=20,20,20,240
ColorTextMain=255,255,255,255
ColorTextSub=150,150,150,255
ColorAccent=255,150,0,255
ColorSeparator=50,50,50,255

; --- Fonts ---
FontMain=Segoe UI
FontBold=Segoe UI Black

; Include the variables generated by Python
@Include=#CURRENTPATH#variables.inc

; ----------------------------------
; MEASURES
; ----------------------------------

[MeasureRunScript]
Measure=Plugin
Plugin=RunCommand
Program=python
Parameter=stats.py
State=Hide
OutputType=ANSI
FinishAction=[!Refresh]
UpdateDivider=600

[MeasureRunOnStart]
Measure=Calc
Formula=Counter
IfEqualValue=1
IfEqualAction=[!CommandMeasure MeasureRunScript "Run"]
UpdateDivider=-1

; ----------------------------------
; STYLES
; ----------------------------------

[StyleTextCenter]
StringAlign=Center
AntiAlias=1

; ----------------------------------
; METERS
; ----------------------------------

; --- Background ---
[MeterBackground]
Meter=Shape
; Centered Stroke Logic: Rectangle inset by half the border width to prevent clipping
; Shape=Rectangle (Border/2),(Border/2),(Width-Border),(Height-Border),CornerRadius
Shape=Rectangle (#BorderWidth#/2),(#BorderWidth#/2),(#Width#-#BorderWidth#),(#Height#-#BorderWidth#),#CornerRadius# | Fill Color #ColorBg# | StrokeWidth #BorderWidth# | Stroke Color #ColorAccent#

; --- Top Section: Streak (The Duolingo Vibe) ---

; Fire Icon centered
; 40px width. X = Center - (Width/2) = 90 - 20 = 70
[MeterStreakIcon]
Meter=Image
ImageName=#FireImg#
X=70
Y=15
W=40
H=40
PreserveAspectRatio=1

[MeterStreakText]
Meter=String
MeterStyle=StyleTextCenter
FontFace=#FontBold#
FontSize=14
FontColor=#ColorAccent#
X=#Center#
Y=0R
Text=#Streak# Day Streak

; --- Middle Section: Total Solved ---

[MeterTotalCount]
Meter=String
MeterStyle=StyleTextCenter
FontFace=#FontBold#
FontSize=48
FontColor=#ColorTextMain#
X=#Center#
Y=0R
Text=#TotalSolved#

[MeterTotalLabel]
Meter=String
MeterStyle=StyleTextCenter
FontFace=#FontMain#
FontSize=10
FontColor=#ColorTextSub#
X=#Center#
Y=-10R
Text=PROBLEMS SOLVED

; --- Bottom Section: Platforms ---

; Divider Line
; Adjusted for 180px width
[MeterSeparator]
Meter=Shape
Shape=Line 20,175,160,175 | StrokeWidth 2 | Stroke Color #ColorSeparator#

; Left Column: LeetCode
[MeterLCLabel]
Meter=String
MeterStyle=StyleTextCenter
FontFace=#FontMain#
FontSize=9
FontColor=#ColorAccent#
X=50
Y=185
Text=LEETCODE

[MeterLCValue]
Meter=String
MeterStyle=StyleTextCenter
FontFace=#FontBold#
FontSize=16
FontColor=#ColorTextMain#
X=50
Y=200
Text=#LC_Count#

; Right Column: GFG
[MeterGFGLabel]
Meter=String
MeterStyle=StyleTextCenter
FontFace=#FontMain#
FontSize=9
FontColor=#ColorAccent#
X=130
Y=185
Text=GFG

[MeterGFGValue]
Meter=String
MeterStyle=StyleTextCenter
FontFace=#FontBold#
FontSize=16
FontColor=#ColorTextMain#
X=130
Y=200
Text=#GFG_Count#

; --- Interaction ---

[MeterClickArea]
Meter=Image
SolidColor=0,0,0,1
X=0
Y=0
W=#Width#
H=#Height#
LeftMouseUpAction=[!CommandMeasure MeasureRunScript "Run"]
ToolTipText=Click to refresh stats
